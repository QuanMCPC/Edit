<!--Copyright (C) 2020 QuanMCPC (Also know as: Quan_MCPC)-->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Edit Document In Terminal</title>
        <link rel="stylesheet" href="main.css">
        <script src="main.js"></script>
        <style>
            #menu-bar {
                display: flex;
                justify-content: space-between;
                align-items: center;
                height: 25px;
                background: #3C3C3C;
                -webkit-app-region: drag;
            }
            #menu-bar > div {
                height: 100%;
                display: flex;
                justify-content: space-between;
                align-items: center;
            }
            .menubar-btn {
                -webkit-app-region: no-drag;
                margin: 0;
                padding-left: 15px;
                padding-right: 15px;
                background-color: rgba(0, 0, 0, 0);
                outline: none !important;
            }
            .menubar-btn:hover {
                background-color: rgb(71, 71, 72)
            }
            .container {
                height: calc(100vh - 30px);
                background: #34475ab0;
                color: white;
                display: flex;
                justify-content: center;
                align-items: center;
                font-size: 2em;
            }
            #close-btn:hover {
                background: rgb(255, 0, 0);
            }
        </style>
    </head>
    <body>
        <div id="menu-bar">
            <div class="left" role="menu">
                <button class="menubar-btn" id="menu-btn" title="Menu"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M2 10V9h12v1H2zm0-4h12v1H2V6zm12-3v1H2V3h12zM2 12v1h12v-1H2z"/></svg></button>
                <p style="color: white; margin-left: 20px;">edit - <span id="_file_name">Untitled</span><span id="current_state"></span></p>
            </div>
            <div class="right">
                <button class="menubar-btn" id="minimize-btn" title="Minimize"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M14 8v1H3V8h11z"/></svg></button>
                <button class="menubar-btn" id="max-unmax-btn" title="Maximize/Unmaximize"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path d="M3 3v10h10V3H3zm9 9H4V4h8v8z"/></svg></button>
                <button class="menubar-btn" id="close-btn" title="Close"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg" fill="currentColor"><path fill-rule="evenodd" clip-rule="evenodd" d="M7.116 8l-4.558 4.558.884.884L8 8.884l4.558 4.558.884-.884L8.884 8l4.558-4.558-.884-.884L8 7.116 3.442 2.558l-.884.884L7.116 8z"/></svg></button>
            </div>
        </div>
        <div id="editor">
            <div id="editor_overlay" style="position: absolute; display: none; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.3); z-index: 1;"></div>
            <textarea id="editor_input" style="width: calc(100% - 12px); height: calc(100% - 12px); bottom: 0px; z-index: -1; resize: none; outline: none; background-color: rgb(0, 0, 0); color: rgb(255, 255, 255); border: 6px double rgb(197, 197, 197); padding: 0; margin: 0;"></textarea>
            <div id="editor_settings" style="z-index: 3; display: none; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 500px; height: 150px; color: white; border: 6px double white">
                <p style="text-align: center; margin-bottom: 3px;">Settings</p>
                <!--<p style="text-align: center;">Save file as:</p>-->
                <!--<div style="padding: 3px 3px; position: absolute; left: 50%; top: 50%; border: 4px double white; background-color: black; color: white; transform: translate(-50%, -50%); outline: none">-->
                <center>
                    <p style="color: white; margin: 3px;">Color</p>
                    <label for="foregroundcolor">Foreground Color: </label><input type="color" name="foregroundcolor" id="foregroundcolor" value="#ffffff">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label for="backgroundcolor">Background Color: </label><input type="color" name="backgroundcolor" id="backgroundcolor" value="#000000"><br>
                    <button onclick="editor_close_settings()" style="margin: 10px;">Close</button>
                </center>
                <!--</div>-->
            </div>
            <div id="editor_find" style="bottom: 0; right: 0; padding: 5px 5px; z-index: 3; display: none; position: absolute; width: 360px; height: 25px; color: white; border: 6px double white">
                <label for="editor_find_name" style="text-align: center;">Find: </label>
                <input placeholder="Find word" id="editor_find_name" style="outline: none; border: 2px solid gray; width: 80px;">
                <button onclick="editor_find1()">Find</button><button onclick="editor_cancel_find()">Cancel</button>
                <input type="checkbox" id="editor_wrap_around"><label for="editor_wrap_around">Wrap Around</label>
            </div>
            <div id="editor_replace" style="bottom: 0; right: 0; padding: 5px 5px; z-index: 3; display: none; position: absolute; width: 685px; height: 25px; color: white; border: 6px double white">
                <label for="editor_find_replace_name" style="text-align: center">Find:&nbsp;</label>
                <input onkeydown="editor_replace_find_replace()" placeholder="Find word" id="editor_find_replace_name" style="outline: none; border: 2px solid gray; width: 80px;">
                <label for="editor_replace_find_name" style="text-align: center">Replace:&nbsp;</label>
                <input onkeydown="editor_replace_find_replace()" placeholder="Replace with" id="editor_replace_find_name" style="outline: none; border: 2px solid gray; width: 80px;">
                <button onclick="editor_find2()">Find</button><button onclick="editor_replace1()">Replace</button><button onclick="editor_replace2()">Replace all</button><button onclick="editor_cancel_replace()">Cancel</button>
                <input type="checkbox" id="editor_wrap_around1"><label for="editor_wrap_around1">Wrap Around</label>
            </div>
            <div id="editor_gotoline" style="bottom: 0; right: 0; padding: 5px 5px; z-index: 3; display: none; position: absolute; width: 310px; height: 25px; color: white; border: 6px double white">
                <label for="editor_goto_input" style="text-align: center">Line number:&nbsp;</label>
                <input type="number" placeholder="Number" id="editor_goto_input" style="outline: none; border: 2px solid gray; width: 80px;">
                <button onclick="editor_goto()">Go to</button><button onclick="editor_cancel_gotoline()">Cancel</button>
            </div>
        </div>
    </body>
    <script>
        document.getElementById("editor_input").addEventListener("keydown", (event) => {
            if (cachedText !== document.getElementById("editor_input").value) {
                document.getElementById("current_state").innerHTML = " (Modified)";
            } else {
                document.getElementById("current_state").innerHTML = "";
            }
        })
        document.getElementById("foregroundcolor").onchange = function(ev) { document.getElementById("editor_input").style.color = ev.target.value }
        document.getElementById("backgroundcolor").onchange = function(ev) { document.getElementById("editor_input").style.backgroundColor = ev.target.value }
    </script>
    <script src="renderer.js"></script>
</html>